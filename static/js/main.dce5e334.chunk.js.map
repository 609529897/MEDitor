{"version":3,"sources":["containers/Editor/styled/Wrapper.js","containers/Editor/styled/Textarea.js","containers/Editor/styled/UL.js","containers/Editor/Components/EditorPanel.js","containers/Editor/Components/SaveFileModal.js","containers/Editor/styled/LI.js","containers/Editor/Components/fileItem.js","containers/Editor/Components/fileList.js","containers/Editor/Components/BrowseFileModal.js","containers/Editor/index.js","containers/WritePad/styled/Container.js","containers/WritePad/index.js","containers/App/index.js","Root.js","index.js"],"names":["Wrapper","styled","div","AutoSizeTextarea","Textarea","UL","ul","EditorPanel","this","props","toggleBrowse","togglePreview","toggleSaveFile","isBrowsing","isPreview","isSaving","previewIconCls","classNames","active","saveIconCls","browseIconCls","className","onClick","PureComponent","SaveFileModal","handleSave","name","inpitNode","value","textValue","onSave","onCancel","mockSubmit","e","keyCode","Dialog","open","aria-labelledby","DialogContent","style","width","DialogContentText","Input","autoFocus","margin","id","type","fullWidth","onKeyDown","inputRef","DialogActions","color","LI","li","Delete","deleteBtn","FileItem","destroyClickedElement","event","document","body","removeChild","target","saveTextAsFile","text","filename","textFileAsBlob","Blob","downloadLink","createElement","download","innerHTML","window","webkitURL","href","createObjectURL","URL","onclick","display","appendChild","click","downloadFile","content","fileName","openFile","removeFile","FileList","savedFiles","boxSizing","padding","Object","keys","map","item","idx","key","BrowseFileModal","aria-describedby","length","Button","Editor","loadLocalFiles","localSavedFiles","localStorage","indexOf","getItem","setState","loadLocal","fillTextFromLocal","textarea","state","setTextFromFileName","setItem","onChange","result","mockSave","ctrlKey","metaKey","preventDefault","toggleisSaving","saveNewFile","finalName","tempObject","assign","removeItem","newSavedFiles","debounce","markdownCls","markdown","previewCls","ref","node","defaultValue","dangerouslySetInnerHTML","__html","marked","Component","Container","WritePad","App","muiTheme","createMuiTheme","palette","fontFamily","primary","cyan","alternateTextColor","grey","appBar","height","Root","theme","render","getElementById"],"mappings":"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","file":"static/js/main.dce5e334.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n  flex-basis: 55vw;\r\n  padding-top: 15vh;\r\n  box-sizing: border-box;\r\n  & .hidden-toggle {\r\n    display: none;\r\n  }\r\n  & .markdown {\r\n    min-height: 500px;\r\n    width: 100%;\r\n    padding: 0;\r\n    font-size: 20px;\r\n    background-color: transparent;\r\n    color: #424242;\r\n    font-family: 'Inconsolata', monospace;\r\n    line-height: 1.5;\r\n    overflow-x: hidden;\r\n    background: white;\r\n  }\r\n`\r\n\r\nexport default Wrapper\r\n","import styled from 'styled-components'\r\nimport Textarea from 'react-textarea-autosize'\r\n\r\nconst AutoSizeTextarea = styled(Textarea)`\r\n    outline: none;\r\n    border: none;\r\n    resize: none;\r\n    & ul, & ol {\r\n      list-style: initial;\r\n    }\r\n`\r\nexport default AutoSizeTextarea","import styled from 'styled-components'\r\n\r\nconst UL = styled.ul`\r\n  position: fixed;\r\n  top: calc(15vh - 15px);\r\n  right: 0;\r\n  display: flex;\r\n  padding-right: 3vw;\r\n  flex-direction: column;\r\n  & svg {\r\n    height: 30px !important;\r\n    width: 30px !important;\r\n    fill: #eee !important;\r\n    cursor: pointer;\r\n    margin: 10px 0;\r\n  }\r\n\r\n  & svg:hover {\r\n    fill: #B0BEC5 !important;\r\n  }\r\n\r\n  & svg.active {\r\n    fill: #78909c !important;\r\n  }\r\n`\r\n\r\nexport default UL\r\n","import React, { PureComponent } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport UL from '../styled/UL'\r\n\r\nimport Preview from '@material-ui/icons/Visibility'\r\nimport Save from '@material-ui/icons/Save'\r\nimport File from '@material-ui/icons/FolderOpen'\r\n\r\nclass EditorPanel extends PureComponent {\r\n  static propTypes = {\r\n    toggleBrowse: PropTypes.func,\r\n    togglePreview: PropTypes.func,\r\n    toggleSaveFile: PropTypes.func,\r\n    isBrowsing: PropTypes.bool,\r\n    isPreview: PropTypes.bool,\r\n    isSaving: PropTypes.bool\r\n  };\r\n  render() {\r\n    const {\r\n      toggleBrowse,\r\n      togglePreview,\r\n      toggleSaveFile,\r\n      isBrowsing,\r\n      isPreview,\r\n      isSaving\r\n    } = this.props;\r\n    const previewIconCls = classNames({ active: isPreview });\r\n    const saveIconCls = classNames({ active: isSaving });\r\n    const browseIconCls = classNames({ active: isBrowsing });\r\n    return (\r\n      <UL>\r\n        <Preview className={previewIconCls} onClick={togglePreview} />\r\n        <Save className={saveIconCls} onClick={toggleSaveFile} />\r\n        <File className={browseIconCls} onClick={toggleBrowse} />\r\n      </UL>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditorPanel;\r\n\r\n","import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport FlatButton from '@material-ui/core/Button'\r\nimport Input from '@material-ui/core/Input'\r\n\r\nclass SaveFileModal extends PureComponent {\r\n  static propTypes = {\r\n    isSaving: PropTypes.bool,\r\n    onSave: PropTypes.func,\r\n    onCancel: PropTypes.func,\r\n    textValue: PropTypes.string\r\n  }\r\n  handleSave = () => {\r\n    const name = this.inpitNode.value\r\n    const textValue = this.props.textValue\r\n    this.props.onSave(name, textValue)\r\n    this.props.onCancel()\r\n  }\r\n\r\n  mockSubmit = e => {\r\n    e.keyCode === 13 && this.handleSave()\r\n  }\r\n\r\n  render() {\r\n    const { isSaving, onCancel } = this.props\r\n    return (\r\n      <div>\r\n        <Dialog open={isSaving} aria-labelledby=\"form-dialog-title\">\r\n          <DialogContent  style={{ width: 224 + \"px\" }}>\r\n            <DialogContentText>文件名称</DialogContentText>\r\n            <Input\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              fullWidth\r\n              onKeyDown={(e) => this.mockSubmit(e)}\r\n              inputRef={inpitNode => this.inpitNode = inpitNode}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <FlatButton color=\"primary\" onClick={() => onCancel()}>\r\n              取消\r\n          </FlatButton>\r\n            <FlatButton color=\"primary\" onClick={() => this.handleSave()}>\r\n              保存\r\n          </FlatButton>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SaveFileModal\r\n","import styled from 'styled-components'\r\n\r\nconst LI = styled.li`\r\n  list-style: none;\r\n  padding: 0px;\r\n  font-size: 1.6rem;\r\n  font-family: Roboto, sans-serif;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  &:hover {\r\n    background: #f5f5f5;\r\n  }\r\n  & span {\r\n    cursor: pointer;\r\n    flex-grow: 1;\r\n    font-size: 16px;\r\n    margin-right: 30px;\r\n    width: 146px;\r\n  }\r\n  & svg {\r\n    cursor: pointer;\r\n    fill: #bdbdbd !important;\r\n  }\r\n  & svg:hover {\r\n    fill: #607d8b !important;\r\n  }\r\n  & input {\r\n    border: none!important;\r\n  }\r\n`\r\n\r\nexport default LI\r\n","import React, { PureComponent } from \"react\"\r\n/** Tools */\r\nimport PropTypes from \"prop-types\"\r\nimport styled from \"styled-components\"\r\n\r\nimport LI from \"../styled/LI\"\r\nimport deleteBtn from \"@material-ui/icons/Delete\"\r\nimport Download from \"@material-ui/icons/Archive\"\r\n\r\nconst Delete = styled(deleteBtn)`\r\n  align-items: flex-end\r\n`\r\n\r\nclass FileItem extends PureComponent {\r\n  static propTypes = {\r\n    fileName: PropTypes.string,\r\n    content: PropTypes.string,\r\n    openFile: PropTypes.func,\r\n    toggleBrowse: PropTypes.func,\r\n    removeFile: PropTypes.func\r\n  }\r\n  destroyClickedElement = event => {\r\n    document.body.removeChild(event.target)\r\n  }\r\n\r\n  saveTextAsFile = (text, filename) => {\r\n    var textFileAsBlob = new Blob([text], { type: \"text/plain\" })\r\n    var downloadLink = document.createElement(\"a\")\r\n    downloadLink.download = filename + \".md\"\r\n    downloadLink.innerHTML = \"Download File\"\r\n    if (window.webkitURL != null) {\r\n      // Chrome allows the link to be clicked\r\n      // without actually adding it to the DOM.\r\n      downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob)\r\n    } else {\r\n      downloadLink.href = window.URL.createObjectURL(textFileAsBlob)\r\n      downloadLink.onclick = this.destroyClickedElement\r\n      downloadLink.style.display = \"none\"\r\n      document.body.appendChild(downloadLink)\r\n    }\r\n    downloadLink.click()\r\n  }\r\n\r\n  downloadFile = () => {\r\n    this.saveTextAsFile(this.props.content, this.props.fileName)\r\n  }\r\n\r\n  render() {\r\n    const { fileName, openFile, toggleBrowse, removeFile } = this.props\r\n\r\n    return (\r\n      <LI>\r\n        <span\r\n          onClick={() => {\r\n            openFile(fileName)\r\n            toggleBrowse()\r\n          }}\r\n        >\r\n          {fileName}\r\n        </span>\r\n        <Delete onClick={() => removeFile(fileName)} />\r\n        <Download onClick={this.downloadFile} />\r\n      </LI>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FileItem\r\n","import React, { PureComponent } from \"react\";\r\n/** Tools */\r\nimport PropTypes from \"prop-types\";\r\n/** Child Components */\r\nimport FileItem from \"./fileItem\";\r\n\r\nclass FileList extends PureComponent {\r\n  static propTypes = {\r\n    savedFiles: PropTypes.object,\r\n    openFile: PropTypes.func,\r\n    toggleBrowse: PropTypes.func,\r\n    removeFile: PropTypes.func\r\n  };\r\n\r\n  render() {\r\n    const { savedFiles, openFile, toggleBrowse, removeFile } = this.props;\r\n    return (\r\n      <ul style={{ width: \"100%\", boxSizing: \"border-box\", padding: 0 + \"px\", margin: 0 + \"px\"}}>\r\n        {Object.keys(savedFiles).map((item, idx) => {\r\n          return (\r\n            <FileItem\r\n              key={item + idx}\r\n              fileName={item}\r\n              content={savedFiles[item]}\r\n              openFile={openFile}\r\n              toggleBrowse={toggleBrowse}\r\n              removeFile={removeFile}\r\n            />\r\n          )\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FileList;\r\n","import React, { PureComponent } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nimport FileList from \"./fileList\"\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from \"@material-ui/core/Button\"\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\n\r\nclass BrowseFileModal extends PureComponent {\r\n  static propTypes = {\r\n    isBrowsing: PropTypes.bool,\r\n    toggleBrowse: PropTypes.func,\r\n    savedFiles: PropTypes.object,\r\n    loadLocalFiles: PropTypes.func,\r\n    openFile: PropTypes.func,\r\n    removeFile: PropTypes.func\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isBrowsing,\r\n      toggleBrowse,\r\n      savedFiles,\r\n      openFile,\r\n      removeFile,\r\n      onCancel\r\n    } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={isBrowsing}\r\n          // onClose={handleClose}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          {/* <DialogTitle id=\"alert-dialog-title\">文件列表</DialogTitle> */}\r\n          <DialogContent>\r\n          <DialogContentText>文件列表</DialogContentText>\r\n            {Object.keys(savedFiles).length\r\n              ? <FileList\r\n                savedFiles={savedFiles}\r\n                openFile={openFile}\r\n                toggleBrowse={toggleBrowse}\r\n                removeFile={removeFile}\r\n              />\r\n              : <span>您的列表为空，请您添加内容！</span>}\r\n            <DialogContentText id=\"alert-dialog-description\" />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={() => onCancel()}>\r\n              取消\r\n          </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BrowseFileModal;\r\n","import React, { Component } from 'react'\r\n\r\nimport Wrapper from './styled/Wrapper'\r\nimport AutoSizeTextarea from './styled/Textarea'\r\nimport EditorPanel from './Components/EditorPanel'\r\nimport SaveFileModal from \"./Components/SaveFileModal\"\r\nimport BrowseFileModal from \"./Components/BrowseFileModal\"\r\n\r\n// Tool\r\nimport debounce from \"lodash/debounce\"\r\nimport marked from \"marked\"\r\nimport classNames from \"classnames\"\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      textValue: `# 欢迎      \r\n        \r\n希望您有畅快的体验\r\n\r\nMarkdown:\r\n- 切换编辑模式 / 阅读模式\r\n- 保存到浏览器\r\n- 保存到本地`,\r\n      isSaving: false,\r\n      isBrowsing: false,\r\n      savedFiles: {}\r\n    }\r\n    this.onChange = debounce(this.onChange, 500)\r\n  }\r\n  componentWillMount() {\r\n    this.loadLocalFiles()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fillTextFromLocal()\r\n    this.setState(() => {\r\n      return {\r\n        textValue: this.textarea.value\r\n      }\r\n    })\r\n  }\r\n  loadLocalFiles = () => {\r\n    let localSavedFiles = {}\r\n    for (let name in localStorage) {\r\n        if (name.indexOf(\"MDE-\") > -1) {\r\n        localSavedFiles[name] = localStorage.getItem(name)\r\n      }\r\n    }\r\n    this.setState(() => {\r\n      return {\r\n        savedFiles: localSavedFiles\r\n      }\r\n    })\r\n  }\r\n  loadLocal = () => {\r\n    return localStorage.getItem(\"currentText\")\r\n  }\r\n\r\n  fillTextFromLocal = () => {\r\n    this.textarea.value = this.loadLocal()\r\n      ? this.loadLocal()\r\n      : this.state.textValue\r\n  }\r\n\r\n  setTextFromFileName = filename => {\r\n    this.textValue = localStorage.getItem(filename)\r\n    localStorage.setItem(\"currentText\", this.textValue)\r\n    this.setState(() => {\r\n      return {\r\n        textValue: this.textValue\r\n      }\r\n    })\r\n  }\r\n  onChange = () => {\r\n    const result = this.textarea.value\r\n    localStorage.setItem(\"currentText\", result)\r\n    this.setState(() => {\r\n      return {\r\n        textValue: result\r\n      }\r\n    })\r\n  }\r\n  mockSave = e => {\r\n    if ((e.ctrlKey || e.metaKey) && e.keyCode === 83) {\r\n      e.preventDefault()\r\n      this.toggleisSaving()\r\n    }\r\n  }\r\n  toggleisSaving = () => {\r\n    this.setState(() => {\r\n      return {\r\n        isSaving: !this.state.isSaving\r\n      }\r\n    })\r\n  }\r\n\r\n  togglePreview = () => {\r\n    this.setState(() => {\r\n      return {\r\n        isPreview: !this.state.isPreview\r\n      }\r\n    })\r\n  }\r\n\r\n  toggleBrowse = () => {\r\n    this.setState(() => {\r\n      return {\r\n        isBrowsing: !this.state.isBrowsing\r\n      }\r\n    })\r\n  }\r\n\r\n  saveNewFile = (name, textValue) => {\r\n    this.toggleisSaving()\r\n    let finalName = 'MDE-' + name\r\n    localStorage.setItem(finalName, textValue)\r\n    this.setState(() => {\r\n      let tempObject = this.state.savedFiles\r\n      tempObject[finalName] = textValue\r\n      return {\r\n        savedFiles: Object.assign(this.state.savedFiles, tempObject)\r\n      }\r\n    })\r\n    return {\r\n      name: finalName,\r\n      textValue: textValue\r\n    }\r\n  }\r\n  removeFile = fileName => {\r\n    localStorage.removeItem(fileName)\r\n    const newSavedFiles = this.state.savedFiles\r\n    delete newSavedFiles[fileName]\r\n    this.setState(() => {\r\n      return {\r\n        savedFiles: newSavedFiles\r\n      }\r\n    })\r\n    // this.renderBrows(this.state.isBrowsing, this.state.savedFiles)\r\n    this.toggleBrowse()\r\n    return {\r\n      name: fileName\r\n    }\r\n  }\r\n  render() {\r\n    const { textValue, isPreview, isBrowsing, isSaving, savedFiles } = this.state\r\n    const markdownCls = classNames({\r\n      \"hidden-toggle\": isPreview || isBrowsing,\r\n      markdown: true\r\n    })\r\n    const previewCls = classNames({\r\n      \"hidden-toggle\": !isPreview,\r\n      markdown: true\r\n    })\r\n    return (\r\n      <Wrapper>\r\n        <AutoSizeTextarea\r\n          className={markdownCls}\r\n          ref={node => (this.textarea = node)}\r\n          onChange={this.onChange}\r\n          onKeyDown={this.mockSave}\r\n          defaultValue={textValue}\r\n        />\r\n        <div\r\n          className={previewCls}\r\n          dangerouslySetInnerHTML={{\r\n            __html: marked(textValue)\r\n          }}\r\n        />\r\n\r\n        <EditorPanel\r\n          togglePreview={this.togglePreview}\r\n          toggleSaveFile={this.toggleisSaving}\r\n          toggleBrowse={this.toggleBrowse}\r\n          isBrowsing={isBrowsing}\r\n          isPreview={isPreview}\r\n          isSaving={isSaving}\r\n        />\r\n        <SaveFileModal\r\n          isSaving={isSaving}\r\n          onSave={this.saveNewFile}\r\n          onCancel={this.toggleisSaving}\r\n          textValue={textValue}\r\n        />\r\n        <BrowseFileModal\r\n          isBrowsing={isBrowsing}\r\n          toggleBrowse={this.toggleBrowse}\r\n          savedFiles={savedFiles}\r\n          openFile={this.setTextFromFileName}\r\n          removeFile={this.removeFile}\r\n          onCancel={this.toggleBrowse}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Editor","import styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  justify-content: center;\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  background: white;\r\n`\r\n\r\nexport default Container","import React, { Component } from 'react'\r\nimport Editor from '../Editor/'\r\nimport Container from './styled/Container'\r\n\r\nclass WritePad extends Component {\r\n  render () {\r\n    return (\r\n      <Container>\r\n        <Editor />\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WritePad\r\n","import React from 'react'\r\nimport WritePad from '../WritePad'\r\n\r\n// import './Global.scss'\r\n\r\nconst App = () => (\r\n  <WritePad />\r\n)\r\n\r\nexport default App","import React from 'react'\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\r\nimport cyan from '@material-ui/core/colors/cyan'\r\nimport grey from '@material-ui/core/colors/grey'\r\nimport App from './containers/App'\r\n\r\nconst muiTheme = createMuiTheme({\r\n  palette: {\r\n    fontFamily: 'Roboto',\r\n    primary: cyan,\r\n    alternateTextColor: grey\r\n  },\r\n  appBar: {\r\n    height: 60,\r\n    color: '#008080'\r\n  },\r\n  'checkbox': {\r\n    'boxColor': '#455a64',\r\n    'checkedColor': '#00b0ff'\r\n  }\r\n})\r\n\r\nconst Root = () => {\r\n  return (\r\n    <MuiThemeProvider theme={muiTheme}>\r\n      <App />\r\n    </MuiThemeProvider>\r\n  )\r\n}\r\n\r\nexport default Root","import React from \"react\"\r\nimport { render } from \"react-dom\"\r\nimport Root from './Root'\r\n\r\nrender(\r\n  <Root />,\r\n  document.getElementById(\"root\")\r\n)"],"sourceRoot":""}