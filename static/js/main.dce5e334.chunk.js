(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],{68:function(e,n,t){e.exports=t(87)},87:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(8),i=t(59),l=t(114),c=t(57),s=t.n(c),u=t(58),g=t.n(u),v=t(10),d=t(11),m=t(12),f=t(13),p=t(14),h=t(15);function b(){var e=Object(p.a)(["\n  flex-basis: 55vw;\n  padding-top: 15vh;\n  box-sizing: border-box;\n  & .hidden-toggle {\n    display: none;\n  }\n  & .markdown {\n    min-height: 500px;\n    width: 100%;\n    padding: 0;\n    font-size: 20px;\n    background-color: transparent;\n    color: #424242;\n    font-family: 'Inconsolata', monospace;\n    line-height: 1.5;\n    overflow-x: hidden;\n    background: white;\n  }\n"]);return b=function(){return e},e}var w=h.a.div(b()),x=t(60);function y(){var e=Object(p.a)(["\n    outline: none;\n    border: none;\n    resize: none;\n    & ul, & ol {\n      list-style: initial;\n    }\n"]);return y=function(){return e},e}var E=Object(h.a)(x.a)(y()),j=t(23),k=t.n(j);function F(){var e=Object(p.a)(["\n  position: fixed;\n  top: calc(15vh - 15px);\n  right: 0;\n  display: flex;\n  padding-right: 3vw;\n  flex-direction: column;\n  & svg {\n    height: 30px !important;\n    width: 30px !important;\n    fill: #eee !important;\n    cursor: pointer;\n    margin: 10px 0;\n  }\n\n  & svg:hover {\n    fill: #B0BEC5 !important;\n  }\n\n  & svg.active {\n    fill: #78909c !important;\n  }\n"]);return F=function(){return e},e}var O=h.a.ul(F()),S=t(50),C=t.n(S),B=t(51),L=t.n(B),N=t(52),P=t.n(N),V=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(){return Object(v.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,n=e.toggleBrowse,t=e.togglePreview,a=e.toggleSaveFile,o=e.isBrowsing,i=e.isPreview,l=e.isSaving,c=k()({active:i}),s=k()({active:l}),u=k()({active:o});return r.a.createElement(O,null,r.a.createElement(C.a,{className:c,onClick:t}),r.a.createElement(L.a,{className:s,onClick:a}),r.a.createElement(P.a,{className:u,onClick:n}))}}]),t}(a.PureComponent),T=t(115),I=t(113),R=t(112),z=t(118),D=t(117),M=t(116),U=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).handleSave=function(){var n=e.inpitNode.value,t=e.props.textValue;e.props.onSave(n,t),e.props.onCancel()},e.mockSubmit=function(n){13===n.keyCode&&e.handleSave()},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.isSaving,a=n.onCancel;return r.a.createElement("div",null,r.a.createElement(T.a,{open:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{style:{width:"224px"}},r.a.createElement(z.a,null,"\u6587\u4ef6\u540d\u79f0"),r.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"name",type:"text",fullWidth:!0,onKeyDown:function(n){return e.mockSubmit(n)},inputRef:function(n){return e.inpitNode=n}})),r.a.createElement(I.a,null,r.a.createElement(D.a,{color:"primary",onClick:function(){return a()}},"\u53d6\u6d88"),r.a.createElement(D.a,{color:"primary",onClick:function(){return e.handleSave()}},"\u4fdd\u5b58"))))}}]),t}(a.PureComponent);function A(){var e=Object(p.a)(["\n  list-style: none;\n  padding: 0px;\n  font-size: 1.6rem;\n  font-family: Roboto, sans-serif;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  &:hover {\n    background: #f5f5f5;\n  }\n  & span {\n    cursor: pointer;\n    flex-grow: 1;\n    font-size: 16px;\n    margin-right: 30px;\n    width: 146px;\n  }\n  & svg {\n    cursor: pointer;\n    fill: #bdbdbd !important;\n  }\n  & svg:hover {\n    fill: #607d8b !important;\n  }\n  & input {\n    border: none!important;\n  }\n"]);return A=function(){return e},e}var K=h.a.li(A()),H=t(53),J=t.n(H),W=t(54),_=t.n(W);function q(){var e=Object(p.a)(["\n  align-items: flex-end\n"]);return q=function(){return e},e}var G=Object(h.a)(J.a)(q()),Q=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).destroyClickedElement=function(e){document.body.removeChild(e.target)},e.saveTextAsFile=function(n,t){var a=new Blob([n],{type:"text/plain"}),r=document.createElement("a");r.download=t+".md",r.innerHTML="Download File",null!=window.webkitURL?r.href=window.webkitURL.createObjectURL(a):(r.href=window.URL.createObjectURL(a),r.onclick=e.destroyClickedElement,r.style.display="none",document.body.appendChild(r)),r.click()},e.downloadFile=function(){e.saveTextAsFile(e.props.content,e.props.fileName)},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,n=e.fileName,t=e.openFile,a=e.toggleBrowse,o=e.removeFile;return r.a.createElement(K,null,r.a.createElement("span",{onClick:function(){t(n),a()}},n),r.a.createElement(G,{onClick:function(){return o(n)}}),r.a.createElement(_.a,{onClick:this.downloadFile}))}}]),t}(a.PureComponent),X=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(){return Object(v.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,n=e.savedFiles,t=e.openFile,a=e.toggleBrowse,o=e.removeFile;return r.a.createElement("ul",{style:{width:"100%",boxSizing:"border-box",padding:"0px",margin:"0px"}},Object.keys(n).map((function(e,i){return r.a.createElement(Q,{key:e+i,fileName:e,content:n[e],openFile:t,toggleBrowse:a,removeFile:o})})))}}]),t}(a.PureComponent),Y=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(){return Object(v.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,n=e.isBrowsing,t=e.toggleBrowse,a=e.savedFiles,o=e.openFile,i=e.removeFile,l=e.onCancel;return r.a.createElement("div",null,r.a.createElement(T.a,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(R.a,null,r.a.createElement(z.a,null,"\u6587\u4ef6\u5217\u8868"),Object.keys(a).length?r.a.createElement(X,{savedFiles:a,openFile:o,toggleBrowse:t,removeFile:i}):r.a.createElement("span",null,"\u60a8\u7684\u5217\u8868\u4e3a\u7a7a\uff0c\u8bf7\u60a8\u6dfb\u52a0\u5185\u5bb9\uff01"),r.a.createElement(z.a,{id:"alert-dialog-description"})),r.a.createElement(I.a,null,r.a.createElement(D.a,{color:"primary",onClick:function(){return l()}},"\u53d6\u6d88"))))}}]),t}(a.PureComponent),Z=t(55),$=t.n(Z),ee=t(56),ne=t.n(ee),te=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(v.a)(this,t),(a=n.call(this,e)).loadLocalFiles=function(){var e={};for(var n in localStorage)n.indexOf("MDE-")>-1&&(e[n]=localStorage.getItem(n));a.setState((function(){return{savedFiles:e}}))},a.loadLocal=function(){return localStorage.getItem("currentText")},a.fillTextFromLocal=function(){a.textarea.value=a.loadLocal()?a.loadLocal():a.state.textValue},a.setTextFromFileName=function(e){a.textValue=localStorage.getItem(e),localStorage.setItem("currentText",a.textValue),a.setState((function(){return{textValue:a.textValue}}))},a.onChange=function(){var e=a.textarea.value;localStorage.setItem("currentText",e),a.setState((function(){return{textValue:e}}))},a.mockSave=function(e){(e.ctrlKey||e.metaKey)&&83===e.keyCode&&(e.preventDefault(),a.toggleisSaving())},a.toggleisSaving=function(){a.setState((function(){return{isSaving:!a.state.isSaving}}))},a.togglePreview=function(){a.setState((function(){return{isPreview:!a.state.isPreview}}))},a.toggleBrowse=function(){a.setState((function(){return{isBrowsing:!a.state.isBrowsing}}))},a.saveNewFile=function(e,n){a.toggleisSaving();var t="MDE-"+e;return localStorage.setItem(t,n),a.setState((function(){var e=a.state.savedFiles;return e[t]=n,{savedFiles:Object.assign(a.state.savedFiles,e)}})),{name:t,textValue:n}},a.removeFile=function(e){localStorage.removeItem(e);var n=a.state.savedFiles;return delete n[e],a.setState((function(){return{savedFiles:n}})),a.toggleBrowse(),{name:e}},a.state={textValue:"# \u6b22\u8fce      \n        \n\u5e0c\u671b\u60a8\u6709\u7545\u5feb\u7684\u4f53\u9a8c\n\nMarkdown:\n- \u5207\u6362\u7f16\u8f91\u6a21\u5f0f / \u9605\u8bfb\u6a21\u5f0f\n- \u4fdd\u5b58\u5230\u6d4f\u89c8\u5668\n- \u4fdd\u5b58\u5230\u672c\u5730",isSaving:!1,isBrowsing:!1,savedFiles:{}},a.onChange=$()(a.onChange,500),a}return Object(d.a)(t,[{key:"componentWillMount",value:function(){this.loadLocalFiles()}},{key:"componentDidMount",value:function(){var e=this;this.fillTextFromLocal(),this.setState((function(){return{textValue:e.textarea.value}}))}},{key:"render",value:function(){var e=this,n=this.state,t=n.textValue,a=n.isPreview,o=n.isBrowsing,i=n.isSaving,l=n.savedFiles,c=k()({"hidden-toggle":a||o,markdown:!0}),s=k()({"hidden-toggle":!a,markdown:!0});return r.a.createElement(w,null,r.a.createElement(E,{className:c,ref:function(n){return e.textarea=n},onChange:this.onChange,onKeyDown:this.mockSave,defaultValue:t}),r.a.createElement("div",{className:s,dangerouslySetInnerHTML:{__html:ne()(t)}}),r.a.createElement(V,{togglePreview:this.togglePreview,toggleSaveFile:this.toggleisSaving,toggleBrowse:this.toggleBrowse,isBrowsing:o,isPreview:a,isSaving:i}),r.a.createElement(U,{isSaving:i,onSave:this.saveNewFile,onCancel:this.toggleisSaving,textValue:t}),r.a.createElement(Y,{isBrowsing:o,toggleBrowse:this.toggleBrowse,savedFiles:l,openFile:this.setTextFromFileName,removeFile:this.removeFile,onCancel:this.toggleBrowse}))}}]),t}(a.Component);function ae(){var e=Object(p.a)(["\n  justify-content: center;\n  display: flex;\n  box-sizing: border-box;\n  background: white;\n"]);return ae=function(){return e},e}var re=h.a.div(ae()),oe=function(e){Object(f.a)(t,e);var n=Object(m.a)(t);function t(){return Object(v.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(re,null,r.a.createElement(te,null))}}]),t}(a.Component),ie=function(){return r.a.createElement(oe,null)},le=Object(i.a)({palette:{fontFamily:"Roboto",primary:s.a,alternateTextColor:g.a},appBar:{height:60,color:"#008080"},checkbox:{boxColor:"#455a64",checkedColor:"#00b0ff"}}),ce=function(){return r.a.createElement(l.a,{theme:le},r.a.createElement(ie,null))};Object(o.render)(r.a.createElement(ce,null),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.dce5e334.chunk.js.map